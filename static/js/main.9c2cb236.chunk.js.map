{"version":3,"sources":["redux/actions/todo.js","redux/actionTypes/todo.js","utils.js/string.js","widget/button.js","containers/page1.js","containers/page2.js","redux/reducer/todo.js","redux/reducer/index.js","redux/store/index.js","App.js","routes/routes.js","serviceWorker.js","index.js"],"names":["addTodo","payload","dispatch","type","deleteTodo","strim","str","replace","ButtonDiv","styled","button","_templateObject","Page1","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleInput","e","setState","todo","target","value","addTodosubmit","state","todoAction","id","Date","text","deletTodoSubmit","_this2","todos","length","todoList","map","o","index","react_default","a","createElement","key","className","onClick","role","react_router_dom","to","onChange","renderTodoList","Component","defaultProps","connect","bindActionCreators","todoActions","Page2","initialState","reducer","arguments","undefined","action","update","$set","concat","toConsumableArray","data","filter","redux_reducer","history","combineReducers","router","connectRouter","basename","process","BABEL_ENV","createBrowserHistory","store","preloadedState","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","logger","createLogger","REACT_APP_ENV","createStore","createRootReducer","applyMiddleware","thunk","routerMiddleware","stores","routes","react_router","exact","path","component","App","es","dist","esm","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9c2cb236.chunk.js","sourcesContent":["import * as types from '../actionTypes/todo';\n\n// export const addTodo = payload => ({\n//     type: types.ADD_TODO,\n//     payload,\n// });\n\n// 使用async，必須設置applyMiddleware\nexport const addTodo = payload => dispatch => dispatch({ type: types.ADD_TODO, payload });\n\n// 可參考下列寫法\n// export const xxx = () => (dispatch) => {\n//     dispatch({ type: REQUEST_ROBOT_PENDING});\n//     fetch('https://xxxxx.xxx.xx')\n//     .then(res => res.json())\n//     .then(data => dispach({ type: REQUEST_ROBOT_SUC}, payload: data))\n//     .catch( err => dispach({ type: REQUEST_ROBOTERR}, payload: err) )\n// }\n\nexport const deleteTodo = payload => ({\n    type: types.DELETE_TODO,\n    payload,\n});\n","export const ADD_TODO = 'ADD_TODO';\nexport const DELETE_TODO = 'DELETE_TODO';\n","export const strim = str => str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n","import styled from 'styled-components';\n\nexport const ButtonDiv = styled.button`\n    cursor: pointer;\n    padding: 5px 10px;\n    border: 1px solid #000;\n    cursor: pointer;\n    text-align: center;\n    margin-left: 10px;\n    background-color: #fff;\n`;\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport * as todoActions from '../redux/actions/todo';\nimport '../style/scss/index.scss';\nimport { strim } from '../utils.js/string';\nimport { ButtonDiv } from '../widget/button';\n\nclass Page1 extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            todo: '',\n        };\n    }\n\n    handleInput = e => {\n        this.setState({\n            todo: e.target.value,\n        });\n    };\n\n    addTodosubmit = () => {\n        const { todo } = this.state;\n        if (strim(todo) === '') {\n            return;\n        }\n\n        const { todoAction } = this.props;\n\n        todoAction.addTodo({ id: new Date() / 1, text: todo });\n\n        this.setState({\n            todo: '',\n        });\n    };\n\n    deletTodoSubmit = id => {\n        const { todoAction } = this.props;\n        todoAction.deleteTodo(id);\n    };\n\n    renderTodoList() {\n        const { todo } = this.props;\n        const { todos } = todo;\n        if (todos.length > 0) {\n            const todoList = todos.map((o, index) => (\n                <div key={o.id} className=\"wrapper-row list\">\n                    <h5>\n                        {index + 1}. {o.text}\n                    </h5>\n                    <div className=\"delete\" onClick={() => this.deletTodoSubmit(o.id)} role=\"presentation\">\n                        x\n                    </div>\n                </div>\n            ));\n            return <div className=\"wrapper-col\">{todoList}</div>;\n        }\n    }\n\n    render() {\n        const { todo } = this.state;\n        return (\n            <div className=\"wrapper-col index\">\n                <Link to=\"/page2\">page2</Link>\n                <h1>Redux Todo List</h1>\n                <div className=\"wrapper-row\">\n                    <input className=\"input\" type=\"text\" onChange={this.handleInput} value={todo} />\n                    <ButtonDiv onClick={this.addTodosubmit}>submit</ButtonDiv>\n                </div>\n                {this.renderTodoList()}\n            </div>\n        );\n    }\n}\n\nPage1.defaultProps = {\n    todo: {},\n    todoAction: {},\n};\n\nPage1.propTypes = {\n    todo: PropTypes.object,\n    todoAction: PropTypes.object,\n};\n\nconst mapStateToProps = state => ({\n    todo: state.todo,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    todoAction: bindActionCreators(todoActions, dispatch),\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Page1);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default class Page2 extends Component {\n    render() {\n        return (\n            <div className=\"wrapper-col index\">\n                <Link to=\"/todo\">todo</Link>\n                <h1>Page2</h1>\n            </div>\n        );\n    }\n}\n","import * as actionTypes from '../actionTypes/todo';\nimport update from 'immutability-helper';\n\n// inital\nconst initialState = {\n    todos: [],\n};\n\nconst reducer = (state = initialState, action = {}) => {\n    switch (action.type) {\n        case actionTypes.ADD_TODO: {\n            return update(state, {\n                todos: { $set: [...state.todos, action.payload] },\n            });\n        }\n        case actionTypes.DELETE_TODO: {\n            const { payload } = action;\n            const data = state.todos.filter(o => payload !== o.id);\n            return update(state, {\n                todos: { $set: data },\n            });\n        }\n        default:\n            return state;\n    }\n};\nexport default reducer;\n","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport todo from './todo';\n\nexport default history =>\n    combineReducers({\n        router: connectRouter(history),\n        todo,\n    });\n","import { createBrowserHistory } from 'history';\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport createRootReducer from '../reducer';\n\nlet basename = '/';\nif (process.env.BABEL_ENV === 'production') {\n    basename = '/react-start-kit';\n}\nexport const history = createBrowserHistory({ basename });\n\n// 判斷要不要開啟REDUX_DEVTOOLS\nexport default function configureStore(preloadedState) {\n    let store = '';\n    const composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n    const logger = createLogger();\n    if (process.env.REACT_APP_ENV === 'dev') {\n        // store = createStore(reducer, applyMiddleware(thunkMiddleware, logger));\n        store = createStore(\n            createRootReducer(history),\n            preloadedState,\n            composeEnhancer(applyMiddleware(thunk, routerMiddleware(history), logger))\n        );\n    } else {\n        store = createStore(createRootReducer(history), preloadedState, applyMiddleware(thunk));\n    }\n    return store;\n}\n","import React from 'react';\nimport './App.css';\nimport createRoutes from './routes/routes';\n// import { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport stores, { history } from './redux/store';\nimport { Normalize } from 'styled-normalize';\nimport { ConnectedRouter } from 'connected-react-router';\n\n// 建立store\nconst store = stores();\n// 建立路由\nconst routes = createRoutes();\n\nconst App = () => (\n    <Provider store={store}>\n        <Normalize />\n        <ConnectedRouter history={history}>{routes}</ConnectedRouter>\n    </Provider>\n);\n\nexport default App;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Page1 from '../containers/page1';\nimport Page2 from '../containers/page2';\n\nexport default function createRoutes() {\n    return (\n        <div>\n            <Switch>\n                <Route exact path=\"/todo\" component={Page1} />\n                <Route exact path=\"/page2\" component={Page2} />\n                <Route exact path=\"/\" component={Page1} />\n            </Switch>\n        </div>\n    );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.1/8 is considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    // console.log(\n                    //     'This web app is being served cache-first by a service ' +\n                    //         'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    // );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            // console.log(\n                            //     'New content is available and will be used when all ' +\n                            //         'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            // );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            // console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            // console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            // console.log('No internet connection found. App is running in offline mode.');\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}